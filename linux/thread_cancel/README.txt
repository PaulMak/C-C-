thread_cancel tests cancellation with thread set to non-cancellable state 